"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[517,173],{7220:function(e,r,t){var a=t(4535),i=t(6337);const n=(0,a.Ay)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:i.A.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:i.A.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});r.A=n},6337:function(e,r,t){var a=t(310);const i={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},n={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:i[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:i[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:i,divider:(0,a.X4)(i[500],.24),text:{primary:i[800],secondary:i[600],disabled:i[500]},background:{paper:"#fff",default:i[100],neutral:i[200]},action:{active:i[600],hover:(0,a.X4)(i[500],.08),selected:(0,a.X4)(i[500],.16),disabled:(0,a.X4)(i[500],.8),disabledBackground:(0,a.X4)(i[500],.24),focus:(0,a.X4)(i[500],.24),hoverOpacity:.08,disabledOpacity:.48}};r.A=n},3183:function(e,r,t){t.d(r,{A:function(){return c}});var a=t(5173),i=t.n(a),n=t(5043),l=t(6423),o=t(6446),s=t(579);const d=(0,n.forwardRef)(((e,r)=>{let{icon:t,width:a=20,sx:i,...n}=e;return(0,s.jsx)(o.A,{ref:r,component:l.In,icon:t,sx:{width:a,height:a,...i},...n})}));d.propTypes={sx:i().object,width:i().oneOfType([i().number,i().string]),icon:i().oneOfType([i().element,i().string])};var c=d},7173:function(e,r,t){t.r(r);t(5043);var a=t(5316),i=t(8533),n=t(8911),l=t(5865),o=t(1906),s=t(6446),d=t(2110),c=t(5151),u=t(1019),m=t(7220),h=t(1318),p=t(579);r.default=()=>(0,p.jsx)("div",{children:(0,p.jsx)(a.A,{dividers:!0,children:(0,p.jsxs)(i.A,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,p.jsxs)(n.A,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,p.jsx)(l.A,{style:{marginBottom:"15px"},variant:"h6",children:(0,p.jsx)("h1",{children:"VIEW DUTY HISTORY DETAILS"})})," ",(0,p.jsx)(n.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,p.jsx)(o.A,{variant:"contained",component:h.N_,to:"/management/assignDuty",children:"BACK"})})]}),(0,p.jsx)(m.A,{children:(0,p.jsx)(s.A,{width:"100%",children:(0,p.jsx)(d.A,{style:{height:"600px",paddingTop:"15px"},children:(0,p.jsx)(c.zh,{rows:[{id:1,attendant:"ADMEOL",fuel:"PETROL",pump:"COMBO X",priceL:"165.00/ltrs",litersSold:"600.00Ltrs",totalAmount:"40,000,.00",date:"Wed 2nd March, 2022"}],columns:[{field:"attendant",headerName:"AttENDANT",flex:1,cellClassName:" name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"fuel",headerName:"FUEL",flex:1,cellClassName:" name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"pump",headerName:"PUMP",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"priceL",headerName:"PRICE/L",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"litersSold",headerName:"LITERS SOLD",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"totalAmount",headerName:"TOTAL AMOUNT",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"date",headerName:"DATE",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"}],getRowId:e=>e.id,slots:{toolbar:u.O},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})})})},8517:function(e,r,t){t.r(r),t.d(r,{default:function(){return z}});var a=t(5043),i=t(9252),n=t(8911),l=t(5865),o=t(1906),s=t(6446),d=t(2110),c=t(7220),u=t(5151),m=t(1019),h=t(35),p=t(4219),f=t(5316),x=t(8533),A=t(8903),g=t(3193),v=t(1292),y=t(2221),b=t(2143),j=t(1673),C=t(7784),F=t(9347),D=t(155),w=t(3516),T=t(3033),k=t(7503),S=t(6337),N=t(7154),M=t(7020),E=t(579);var W=e=>{const{open:r,handleClose:t,fetchAssignData:i}=e,[n,s]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),W=T.Ik({pump:T.Yj().required("Pump is required"),fuel:T.Yj().required("Fuel is required"),price:T.Yj().required("Price is required"),current_reading:T.Yj().required("Current Reading is required"),staff:T.Yj().required("assign is required")}),_=(0,w.Wx)({initialValues:{pump:"",fuel:"",price:"",current_reading:"",staff:""},validationSchema:W,onSubmit:async e=>{console.log(e);try{"internal server error"==(await N.A.post(null===M.p||void 0===M.p?void 0:M.p.addDuty,e)).data?k.oR.error("Something Went Wrong",{autoClose:600}):(k.oR.success("data saved successfully",{autoClose:600}),_.resetForm(),t(),await i())}catch(r){console.error("Error SavingData:",r),k.oR.error("Failed to add SavingData",{autoClose:600})}}});return(0,a.useEffect)((()=>{(async()=>{try{const e=(await N.A.get(null===M.p||void 0===M.p?void 0:M.p.getPump)).data.map((e=>({name:null===e||void 0===e?void 0:e.code,id:null===e||void 0===e?void 0:e._id})));s(e)}catch(e){console.error("Error fetching fuel data:",e)}})(),(async()=>{try{const e=(await N.A.get(null===M.p||void 0===M.p?void 0:M.p.getStaff)).data.map((e=>({name:null===e||void 0===e?void 0:e.full_name,id:null===e||void 0===e?void 0:e._id})));c(e)}catch(e){console.error("Error fetching supplier data:",e)}})(),(async()=>{try{const e=(await N.A.get(null===M.p||void 0===M.p?void 0:M.p.fuelList)).data.map((e=>({name:null===e||void 0===e?void 0:e.fuel_type,id:null===e||void 0===e?void 0:e._id})));m(e)}catch(e){console.error("Error fetching fuel data:",e)}})()}),[]),(0,E.jsx)("div",{children:(0,E.jsxs)(h.A,{open:r,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,E.jsxs)(p.A,{style:{display:"flex",justifyContent:"space-between"},children:[(0,E.jsx)(l.A,{variant:"h3",style:{marginLeft:"180px"},children:"Add Duty List"}),(0,E.jsx)(l.A,{children:(0,E.jsx)(D.A,{onClick:t,style:{cursor:"pointer"}})})]}),(0,E.jsx)(f.A,{dividers:!0,children:(0,E.jsxs)("form",{onSubmit:_.handleSubmit,children:[(0,E.jsx)(x.A,{id:"scroll-dialog-description",tabIndex:-1,children:(0,E.jsxs)(A.Ay,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,E.jsx)(A.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,E.jsxs)(g.A,{fullWidth:!0,children:[(0,E.jsx)(v.A,{children:"Select Pump"}),(0,E.jsx)(y.A,{labelId:"demo-simple-select-label",id:"pump",name:"pump",label:"",size:"small",fullWidth:!0,value:_.values.pump||"",onChange:_.handleChange,error:_.touched.pump&&Boolean(_.errors.pump),helperText:_.touched.pump&&_.errors.pump,children:n&&n.map((e=>(0,E.jsx)(b.A,{value:e.id,children:e.name},e.id)))}),(0,E.jsx)(j.A,{style:{color:S.A.error.main},children:_.touched.pump&&_.errors.pump})]})}),(0,E.jsxs)(A.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,E.jsx)(v.A,{children:"Fuel Type"}),(0,E.jsx)(y.A,{labelId:"demo-simple-select-label",id:"fuel",name:"fuel",label:"",size:"small",fullWidth:!0,value:_.values.fuel,onChange:_.handleChange,error:_.touched.fuel&&Boolean(_.errors.fuel),children:u&&u.map((e=>(0,E.jsx)(b.A,{value:e.id,children:e.name},e.id)))})]}),(0,E.jsxs)(A.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,E.jsx)(v.A,{children:"Today Price"}),(0,E.jsx)(C.A,{id:"price",name:"price",size:"small",type:"number",fullWidth:!0,value:_.values.price,onChange:_.handleChange,error:_.touched.price&&Boolean(_.errors.price),helperText:_.touched.price&&_.errors.price})]}),(0,E.jsxs)(A.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,E.jsx)(v.A,{children:"Current Reading"}),(0,E.jsx)(C.A,{id:"current_reading",name:"current_reading",size:"small",type:"number",fullWidth:!0,value:_.values.current_reading||"",onChange:_.handleChange,error:_.touched.current_reading&&Boolean(_.errors.current_reading),helperText:_.touched.current_reading&&_.errors.current_reading})]}),(0,E.jsxs)(A.Ay,{item:!0,xs:12,sm:12,md:12,children:[(0,E.jsx)(v.A,{children:"Assign this Pump to"}),(0,E.jsx)(y.A,{id:"staff",name:"staff",label:"",size:"small",fullWidth:!0,value:_.values.staff||"",onChange:_.handleChange,error:_.touched.staff&&Boolean(_.errors.staff),helperText:_.touched.staff&&_.errors.staff,children:d&&d.map((e=>(0,E.jsx)(b.A,{value:e.id,children:e.name},e.id)))}),(0,E.jsx)(j.A,{style:{color:S.A.error.main},children:_.touched.assign&&_.errors.assign})]})]})}),(0,E.jsxs)(F.A,{children:[(0,E.jsx)(o.A,{type:"submit",variant:"contained",style:{textTransform:"capitalize"},color:"secondary",children:"Save"}),(0,E.jsx)(o.A,{type:"reset",variant:"outlined",style:{textTransform:"capitalize"},onClick:()=>{_.resetForm(),t()},color:"error",children:"Cancel"})]})]})})]})})},_=t(3183),R=(t(7173),t(6178)),G=t.n(R);var z=()=>{const[e,r]=(0,a.useState)(!1),[t,h]=(0,a.useState)([]),p=async()=>{try{const e=await N.A.get(null===M.p||void 0===M.p?void 0:M.p.getDuty);console.log(e);const r=e.data.map((e=>({attendant:null===e||void 0===e?void 0:e.staff.full_name,fuel:null===e||void 0===e?void 0:e.fuel.fuel_type,pumpNo:null===e||void 0===e?void 0:e.pump.code,price:null===e||void 0===e?void 0:e.fuel.liter_price,date:G()(null===e||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm:ss"),id:null===e||void 0===e?void 0:e._id})));h(r)}catch(e){console.error("Error fetching AssignDuty data:",e)}};return(0,a.useEffect)((()=>{p()}),[]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(W,{open:e,handleClose:()=>r(!1),fetchAssignData:p}),(0,E.jsxs)(i.A,{children:[(0,E.jsxs)(n.A,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,E.jsx)(l.A,{variant:"h4",children:"Assign Duty List"}),(0,E.jsx)(n.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,E.jsx)(o.A,{variant:"contained",startIcon:(0,E.jsx)(_.A,{icon:"eva:plus-fill"}),onClick:()=>r(!0),children:"Meter Allocation"})})]}),(0,E.jsx)(c.A,{children:(0,E.jsx)(s.A,{width:"100%",children:(0,E.jsx)(d.A,{style:{height:"600px",paddingTop:"15px"},children:(0,E.jsx)(u.zh,{rows:t&&t,columns:[{field:"attendant",headerName:"ATTENDANT-DESIGNATION",flex:1,cellClassName:" name-column--cell--capitalize"},{field:"fuel",headerName:"FUEL",flex:1},{field:"pumpNo",headerName:"PUMP NO",flex:1},{field:"price",headerName:"PRICE/L",flex:1},{field:"date",headerName:"DATE",flex:1}],getRowId:e=>e.id,slots:{toolbar:m.O},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}},9252:function(e,r,t){t.d(r,{A:function(){return j}});var a=t(8587),i=t(8168),n=t(5043),l=t(8387),o=t(2400),s=t(8606),d=t(410),c=t(2900),u=t(9644),m=t(8280),h=t(579);const p=["className","component","disableGutters","fixed","maxWidth","classes"],f=(0,m.A)(),x=(0,u.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`maxWidth${(0,d.A)(String(t.maxWidth))}`],t.fixed&&r.fixed,t.disableGutters&&r.disableGutters]}}),A=e=>(0,c.A)({props:e,name:"MuiContainer",defaultTheme:f});var g=t(6803),v=t(4535),y=t(2876);const b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:r=x,useThemeProps:t=A,componentName:c="MuiContainer"}=e,u=r((e=>{let{theme:r,ownerState:t}=e;return(0,i.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:r.spacing(2),paddingRight:r.spacing(2),[r.breakpoints.up("sm")]:{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}})}),(e=>{let{theme:r,ownerState:t}=e;return t.fixed&&Object.keys(r.breakpoints.values).reduce(((e,t)=>{const a=t,i=r.breakpoints.values[a];return 0!==i&&(e[r.breakpoints.up(a)]={maxWidth:`${i}${r.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:r,ownerState:t}=e;return(0,i.A)({},"xs"===t.maxWidth&&{[r.breakpoints.up("xs")]:{maxWidth:Math.max(r.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[r.breakpoints.up(t.maxWidth)]:{maxWidth:`${r.breakpoints.values[t.maxWidth]}${r.breakpoints.unit}`}})})),m=n.forwardRef((function(e,r){const n=t(e),{className:m,component:f="div",disableGutters:x=!1,fixed:A=!1,maxWidth:g="lg"}=n,v=(0,a.A)(n,p),y=(0,i.A)({},n,{component:f,disableGutters:x,fixed:A,maxWidth:g}),b=((e,r)=>{const{classes:t,fixed:a,disableGutters:i,maxWidth:n}=e,l={root:["root",n&&`maxWidth${(0,d.A)(String(n))}`,a&&"fixed",i&&"disableGutters"]};return(0,s.A)(l,(e=>(0,o.Ay)(r,e)),t)})(y,c);return(0,h.jsx)(u,(0,i.A)({as:f,ownerState:y,className:(0,l.A)(b.root,m),ref:r},v))}));return m}({createStyledComponent:(0,v.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`maxWidth${(0,g.A)(String(t.maxWidth))}`],t.fixed&&r.fixed,t.disableGutters&&r.disableGutters]}}),useThemeProps:e=>(0,y.A)({props:e,name:"MuiContainer"})});var j=b},8533:function(e,r,t){t.d(r,{A:function(){return A}});var a=t(8587),i=t(8168),n=t(5043),l=t(8387),o=t(8606),s=t(4535),d=t(2876),c=t(5865),u=t(7056),m=t(2400);function h(e){return(0,m.Ay)("MuiDialogContentText",e)}(0,u.A)("MuiDialogContentText",["root"]);var p=t(579);const f=["children","className"],x=(0,s.Ay)(c.A,{shouldForwardProp:e=>(0,s.ep)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,r)=>r.root})({});var A=n.forwardRef((function(e,r){const t=(0,d.A)({props:e,name:"MuiDialogContentText"}),{className:n}=t,s=(0,a.A)(t,f),c=(e=>{const{classes:r}=e,t=(0,o.A)({root:["root"]},h,r);return(0,i.A)({},r,t)})(s);return(0,p.jsx)(x,(0,i.A)({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:s,className:(0,l.A)(c.root,n)},t,{classes:c}))}))}}]);
//# sourceMappingURL=517.c3a6793c.chunk.js.map