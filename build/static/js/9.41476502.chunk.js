"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[9],{7220:function(e,t,a){var r=a(4535),i=a(6337);const l=(0,r.Ay)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:i.A.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:i.A.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});t.A=l},6337:function(e,t,a){var r=a(310);const i={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},l={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:i[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:i[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:i,divider:(0,r.X4)(i[500],.24),text:{primary:i[800],secondary:i[600],disabled:i[500]},background:{paper:"#fff",default:i[100],neutral:i[200]},action:{active:i[600],hover:(0,r.X4)(i[500],.08),selected:(0,r.X4)(i[500],.16),disabled:(0,r.X4)(i[500],.8),disabledBackground:(0,r.X4)(i[500],.24),focus:(0,r.X4)(i[500],.24),hoverOpacity:.08,disabledOpacity:.48}};t.A=l},3183:function(e,t,a){a.d(t,{A:function(){return c}});var r=a(5173),i=a.n(r),l=a(5043),n=a(6423),o=a(6446),s=a(579);const d=(0,l.forwardRef)(((e,t)=>{let{icon:a,width:r=20,sx:i,...l}=e;return(0,s.jsx)(o.A,{ref:t,component:n.In,icon:a,sx:{width:r,height:r,...i},...l})}));d.propTypes={sx:i().object,width:i().oneOfType([i().number,i().string]),icon:i().oneOfType([i().element,i().string])};var c=d},4009:function(e,t,a){a.r(t),a.d(t,{default:function(){return z}});var r=a(5043),i=a(9252),l=a(8911),n=a(5865),o=a(1906),s=a(6446),d=a(2110),c=a(3183),u=a(5151),m=a(1019),h=a(7220),f=a(35),p=a(9347),x=a(5316),A=a(4219),g=a(8903),v=a(7784),b=a(3193),j=a(155),y=a(2143),F=a(2221),C=a(3516),S=a(3033),k=a(7154),D=a(7020),w=a(1292),T=a(1673),W=a(7503),E=a(6337),M=a(579);var N=e=>{const{open:t,handleClose:a,fetchSalesData:i}=e,[l,s]=(0,r.useState)([]),[d,c]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),h=S.Ik({liter:S.Yj().required("Liter is required"),pump:S.Yj().required("Pump is required"),fuel:S.Yj().required("Fuel is required"),staff:S.Yj().required("Staff is required")}),N=(0,C.Wx)({initialValues:{liter:"",amount:"",pump:"",fuel:"",staff:""},validationSchema:h,onSubmit:async e=>{console.log(e);try{const t=await k.A.post(null===D.p||void 0===D.p?void 0:D.p.addSales,e);console.log(t),console.log("API response:",t.data),"internal server error"==t.data?W.oR.error("Something Went Wrong",{autoClose:600}):"fuel not available"==t.data?W.oR.error("No Enough Fuel "):(W.oR.success("data saved successfully",{autoClose:600}),N.resetForm(),a(),await i())}catch(t){console.error("Error SavingData:",t),W.oR.error("Failed to add SavingData",{autoClose:600})}}});return(0,r.useEffect)((()=>{(async()=>{try{const e=(await k.A.get(null===D.p||void 0===D.p?void 0:D.p.getPump)).data.map((e=>({name:null===e||void 0===e?void 0:e.code,id:null===e||void 0===e?void 0:e._id})));s(e)}catch(e){console.error("Error fetching fuel data:",e)}})(),(async()=>{try{const e=(await k.A.get(null===D.p||void 0===D.p?void 0:D.p.getStaff)).data.map((e=>({name:null===e||void 0===e?void 0:e.full_name,id:null===e||void 0===e?void 0:e._id})));c(e)}catch(e){console.error("Error fetching supplier data:",e)}})(),(async()=>{try{const e=(await k.A.get(null===D.p||void 0===D.p?void 0:D.p.fuelList)).data.map((e=>({name:null===e||void 0===e?void 0:e.fuel_type,id:null===e||void 0===e?void 0:e._id})));m(e)}catch(e){console.error("Error fetching fuel data:",e)}})()}),[]),(0,M.jsx)("div",{children:(0,M.jsxs)(f.A,{open:t,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,M.jsxs)(A.A,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,M.jsx)(n.A,{variant:"h6",children:"Add New "}),(0,M.jsx)(n.A,{children:(0,M.jsx)(j.A,{onClick:a,style:{cursor:"pointer"}})})]}),(0,M.jsx)(x.A,{dividers:!0,children:(0,M.jsxs)("form",{onSubmit:N.handleSubmit,children:[(0,M.jsx)(n.A,{style:{marginBottom:"15px"},variant:"h6",children:"Basic Sales Information"}),(0,M.jsxs)(g.Ay,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,M.jsx)(g.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,M.jsxs)(b.A,{fullWidth:!0,children:[(0,M.jsx)(w.A,{children:"PUMP"}),(0,M.jsx)(F.A,{labelId:"demo-simple-select-label",id:"pump",name:"pump",label:"",size:"small",fullWidth:!0,value:N.values.pump||"",onChange:N.handleChange,error:N.touched.pump&&Boolean(N.errors.pump),helperText:N.touched.pump&&N.errors.pump,children:l&&l.map((e=>(0,M.jsx)(y.A,{value:e.id,children:e.name},e.id)))}),(0,M.jsx)(T.A,{style:{color:E.A.error.main},children:N.touched.pump&&N.errors.pump})]})}),(0,M.jsx)(g.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,M.jsxs)(b.A,{fullWidth:!0,children:[(0,M.jsx)(w.A,{children:"FUEL"}),(0,M.jsx)(F.A,{labelId:"demo-simple-select-label",id:"fuel",name:"fuel",label:"",size:"small",fullWidth:!0,value:N.values.fuel,onChange:N.handleChange,error:N.touched.fuel&&Boolean(N.errors.fuel),children:u&&u.map((e=>(0,M.jsx)(y.A,{value:e.id,children:e.name},e.id)))}),(0,M.jsx)(T.A,{style:{color:E.A.error.main},children:N.touched.fuel&&N.errors.fuel})]})}),(0,M.jsx)(g.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,M.jsxs)(b.A,{fullWidth:!0,children:[(0,M.jsx)(w.A,{children:"EMPLOYEE"}),(0,M.jsx)(F.A,{id:"staff",name:"staff",label:"",size:"small",fullWidth:!0,value:N.values.staff||"",onChange:N.handleChange,error:N.touched.staff&&Boolean(N.errors.staff),helperText:N.touched.staff&&N.errors.staff,children:d&&d.map((e=>(0,M.jsx)(y.A,{value:e.id,children:e.name},e.id)))}),(0,M.jsx)(T.A,{style:{color:E.A.error.main},children:N.touched.staff&&N.errors.staff})]})}),(0,M.jsxs)(g.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,M.jsx)(w.A,{children:"AMOUNT"}),(0,M.jsx)(v.A,{id:"amount",name:"amount",type:"number",size:"small",fullWidth:!0,value:N.values.amount,onChange:N.handleChange,error:N.touched.amount&&Boolean(N.errors.amount),helperText:N.touched.amount&&N.errors.amount})]}),(0,M.jsxs)(g.Ay,{item:!0,xs:12,sm:12,md:12,children:[(0,M.jsx)(w.A,{children:"LITER_SOLD"}),(0,M.jsx)(v.A,{id:"liter",name:"liter",type:"number",size:"small",fullWidth:!0,value:N.values.liter,onChange:N.handleChange,error:N.touched.liter&&Boolean(N.errors.liter),helperText:N.touched.liter&&N.errors.liter})]})]}),(0,M.jsxs)(p.A,{children:[(0,M.jsx)(o.A,{type:"submit",variant:"contained",style:{textTransform:"capitalize"},children:"Save"}),(0,M.jsx)(o.A,{type:"reset",variant:"outlined",style:{textTransform:"capitalize"},color:"error",onClick:()=>{N.resetForm(),a()},children:"Cancel"})]})]})})]})})},G=a(6178),B=a.n(G);var z=()=>{const[e,t]=(0,r.useState)(!1),[a,f]=(0,r.useState)([]),p=async()=>{try{const e=await k.A.get(null===D.p||void 0===D.p?void 0:D.p.getSales);console.log(e);const t=e.data.map((e=>({attendant:null===e||void 0===e?void 0:e.staff.full_name,fuel:null===e||void 0===e?void 0:e.fuel.fuel_type,pump:null===e||void 0===e?void 0:e.pump.code,date:B()(null===e||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm:ss"),priceL:null===e||void 0===e?void 0:e.fuel.liter_price,litersSold:null===e||void 0===e?void 0:e.liter,totalAmount:(null===e||void 0===e?void 0:e.fuel.liter_price)*e.liter,id:null===e||void 0===e?void 0:e._id})));f(t)}catch(e){console.error("Error fetching fuel data:",e)}};return(0,r.useEffect)((()=>{p()}),[]),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(N,{open:e,handleClose:()=>t(!1),fetchSalesData:p}),(0,M.jsxs)(i.A,{children:[(0,M.jsxs)(l.A,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,M.jsx)(n.A,{variant:"h4",children:"Sales-Management"}),(0,M.jsx)(l.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,M.jsx)(o.A,{variant:"contained",startIcon:(0,M.jsx)(c.A,{icon:"eva:plus-fill"}),onClick:()=>t(!0),children:"Add Sales"})})]}),(0,M.jsx)(h.A,{children:(0,M.jsx)(s.A,{width:"100%",children:(0,M.jsx)(d.A,{style:{height:"600px",paddingTop:"15px"},children:(0,M.jsx)(u.zh,{rows:a&&a,columns:[{field:"attendant",headerName:"ATTENDANT",flex:1,cellClassName:" name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"fuel",headerName:"FUEL",flex:1,cellClassName:" name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"pump",headerName:"PUMP",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"priceL",headerName:"PRICE/L",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"litersSold",headerName:"LITERS SOLD",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"totalAmount",headerName:"TOTAL AMOUNT",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"date",headerName:"DATE",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"}],getRowId:e=>e.id,slots:{toolbar:m.O},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}},9252:function(e,t,a){a.d(t,{A:function(){return y}});var r=a(8587),i=a(8168),l=a(5043),n=a(8387),o=a(2400),s=a(8606),d=a(410),c=a(2900),u=a(9644),m=a(8280),h=a(579);const f=["className","component","disableGutters","fixed","maxWidth","classes"],p=(0,m.A)(),x=(0,u.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[`maxWidth${(0,d.A)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),A=e=>(0,c.A)({props:e,name:"MuiContainer",defaultTheme:p});var g=a(6803),v=a(4535),b=a(2876);const j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=x,useThemeProps:a=A,componentName:c="MuiContainer"}=e,u=t((e=>{let{theme:t,ownerState:a}=e;return(0,i.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:a}=e;return a.fixed&&Object.keys(t.breakpoints.values).reduce(((e,a)=>{const r=a,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:`${i}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:a}=e;return(0,i.A)({},"xs"===a.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},a.maxWidth&&"xs"!==a.maxWidth&&{[t.breakpoints.up(a.maxWidth)]:{maxWidth:`${t.breakpoints.values[a.maxWidth]}${t.breakpoints.unit}`}})})),m=l.forwardRef((function(e,t){const l=a(e),{className:m,component:p="div",disableGutters:x=!1,fixed:A=!1,maxWidth:g="lg"}=l,v=(0,r.A)(l,f),b=(0,i.A)({},l,{component:p,disableGutters:x,fixed:A,maxWidth:g}),j=((e,t)=>{const{classes:a,fixed:r,disableGutters:i,maxWidth:l}=e,n={root:["root",l&&`maxWidth${(0,d.A)(String(l))}`,r&&"fixed",i&&"disableGutters"]};return(0,s.A)(n,(e=>(0,o.Ay)(t,e)),a)})(b,c);return(0,h.jsx)(u,(0,i.A)({as:p,ownerState:b,className:(0,n.A)(j.root,m),ref:t},v))}));return m}({createStyledComponent:(0,v.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[`maxWidth${(0,g.A)(String(a.maxWidth))}`],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,b.A)({props:e,name:"MuiContainer"})});var y=j}}]);
//# sourceMappingURL=9.41476502.chunk.js.map