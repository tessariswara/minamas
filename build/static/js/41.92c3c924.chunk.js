"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[41,165],{7220:function(e,r,t){var i=t(4535),l=t(6337);const n=(0,i.Ay)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:l.A.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:l.A.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});r.A=n},6337:function(e,r,t){var i=t(310);const l={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},n={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:l[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:l[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:l,divider:(0,i.X4)(l[500],.24),text:{primary:l[800],secondary:l[600],disabled:l[500]},background:{paper:"#fff",default:l[100],neutral:l[200]},action:{active:l[600],hover:(0,i.X4)(l[500],.08),selected:(0,i.X4)(l[500],.16),disabled:(0,i.X4)(l[500],.8),disabledBackground:(0,i.X4)(l[500],.24),focus:(0,i.X4)(l[500],.24),hoverOpacity:.08,disabledOpacity:.48}};r.A=n},3183:function(e,r,t){t.d(r,{A:function(){return c}});var i=t(5173),l=t.n(i),n=t(5043),a=t(6423),o=t(6446),s=t(579);const d=(0,n.forwardRef)(((e,r)=>{let{icon:t,width:i=20,sx:l,...n}=e;return(0,s.jsx)(o.A,{ref:r,component:a.In,icon:t,sx:{width:i,height:i,...l},...n})}));d.propTypes={sx:l().object,width:l().oneOfType([l().number,l().string]),icon:l().oneOfType([l().element,l().string])};var c=d},1165:function(e,r,t){t.r(r);var i=t(5043),l=t(5316),n=t(8533),a=t(8911),o=t(5865),s=t(1906),d=t(6446),c=t(2110),u=(t(3033),t(7503),t(5151)),m=t(1019),p=t(7220),h=t(1318),x=t(7020),f=t(7154),A=t(6178),v=t.n(A),g=t(579);r.default=()=>{const[e,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{const e=await f.A.get(null===x.p||void 0===x.p?void 0:x.p.getOrder);console.log(e);const t=e.data.map((e=>({fuelType:null===e||void 0===e?void 0:e.fuel.fuel_type,totalLitersSupplied:null===e||void 0===e?void 0:e.liters,cost:null===e||void 0===e?void 0:e.cost,supplier:null===e||void 0===e?void 0:e.supplier.name,pump:null===e||void 0===e?void 0:e.pump.code,date:v()(null===e||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm:ss"),id:null===e||void 0===e?void 0:e._id})));r(t)}catch(e){console.error("Error fetching fuel data:",e)}})()}),[]),(0,g.jsx)("div",{children:(0,g.jsx)(l.A,{dividers:!0,children:(0,g.jsxs)(n.A,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,g.jsxs)(a.A,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,g.jsx)(o.A,{style:{marginBottom:"15px"},variant:"h6",children:(0,g.jsx)("h1",{children:"ORDER HISTORY DETAILS"})})," ",(0,g.jsx)(a.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,g.jsx)(s.A,{variant:"contained",component:h.N_,to:"/managment/Fuel",children:"BACK"})})]}),(0,g.jsx)(p.A,{children:(0,g.jsx)(d.A,{width:"100%",children:(0,g.jsx)(c.A,{style:{height:"600px",paddingTop:"15px"},children:(0,g.jsx)(u.zh,{rows:e&&e,columns:[{field:"fuelType",headerName:"FUEL TYPE",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"totalLitersSupplied",headerName:"TOTAL LITERS SUPPLIED",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"cost",headerName:"COST",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"supplier",headerName:"SUPPLIER",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"pump",headerName:"PUMP",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"date",headerName:"DATE",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"}],getRowId:e=>e.id,slots:{toolbar:m.O},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})})})}},41:function(e,r,t){t.r(r),t.d(r,{default:function(){return R}});var i=t(5043),l=t(9252),n=t(8911),a=t(5865),o=t(1906),s=t(6446),d=t(2110),c=t(5151),u=t(1019),m=t(3183),p=t(7220),h=t(35),x=t(8903),f=t(3193),A=t(1292),v=t(2221),g=t(2143),j=t(1673),y=t(7784),b=t(9347),C=t(5316),F=t(8533),w=t(4219),k=t(155),S=t(3516),D=t(3033),T=t(7154),M=t(7020),E=t(7503),N=t(579);var W=e=>{const{open:r,handleClose:t}=e,[l,n]=(0,i.useState)([]),[s,d]=(0,i.useState)([]),[c,u]=(0,i.useState)([]),m=D.Ik({fuel:D.Yj().required("Fuel Type is required"),supplier:D.Yj().required("Supplier Name is required"),cost:D.Yj().required("Cost is required"),liters:D.Yj().required("Liters is required"),pump:D.Yj().required("Pump is required")}),p=(0,S.Wx)({initialValues:{fuel:"",supplier:"",cost:"",liters:"",pump:""},validationSchema:m,onSubmit:async e=>{console.log("Form submitted with values: ",e);try{const r=await T.A.post(null===M.p||void 0===M.p?void 0:M.p.addOrder,e);console.log("API response:",r.data),E.oR.success("Order added successfully",{autoClose:600}),p.resetForm(),t()}catch(r){console.error("Error adding order:",r),E.oR.error("Failed to add Order",{autoClose:600})}}});return(0,i.useEffect)((()=>{(async()=>{try{const e=(await T.A.get(null===M.p||void 0===M.p?void 0:M.p.fuelList)).data.map((e=>({name:null===e||void 0===e?void 0:e.fuel_type,qty:null===e||void 0===e?void 0:e.litres,status:null===e||void 0===e?void 0:e.status,id:null===e||void 0===e?void 0:e._id})));n(e)}catch(e){console.error("Error fetching fuel data:",e)}})(),(async()=>{try{const e=(await T.A.get(null===M.p||void 0===M.p?void 0:M.p.supplierList)).data.map((e=>({supplier:null===e||void 0===e?void 0:e.name,id:null===e||void 0===e?void 0:e._id})));d(e)}catch(e){console.error("Error fetching supplier data:",e)}})(),(async()=>{try{const e=(await T.A.get(null===M.p||void 0===M.p?void 0:M.p.getPump)).data.map((e=>({name:null===e||void 0===e?void 0:e.code,id:null===e||void 0===e?void 0:e._id})));u(e)}catch(e){console.log(e)}})()}),[]),(0,N.jsx)("div",{children:(0,N.jsxs)(h.A,{open:r,onClose:t,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,N.jsxs)(w.A,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,N.jsx)(a.A,{variant:"h3",style:{marginLeft:"180px"},children:"Add New Order"}),(0,N.jsx)(a.A,{children:(0,N.jsx)(k.A,{onClick:t,style:{cursor:"pointer"}})})]}),(0,N.jsx)(C.A,{dividers:!0,children:(0,N.jsxs)("form",{onSubmit:p.handleSubmit,children:[(0,N.jsxs)(F.A,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,N.jsx)(a.A,{style:{marginBottom:"15px"},variant:"h6",children:(0,N.jsx)("h1",{children:"Enter Order Details"})}),(0,N.jsxs)(x.Ay,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,N.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,N.jsxs)(f.A,{fullWidth:!0,children:[(0,N.jsx)(A.A,{children:"Fuel Type"}),(0,N.jsx)(v.A,{labelId:"demo-simple-select-label",id:"fuel",name:"fuel",label:"",size:"small",fullWidth:!0,value:p.values.fuel,onChange:p.handleChange,error:p.touched.fuel&&Boolean(p.errors.fuel),children:l&&l.map((e=>(0,N.jsx)(g.A,{value:e.id,children:e.name},e.id)))}),(0,N.jsx)(j.A,{error:!0,children:p.errors.fuel})]})}),(0,N.jsxs)(x.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,N.jsx)(A.A,{children:"Supplier"}),(0,N.jsx)(v.A,{id:"supplier",name:"supplier",label:"",size:"small",fullWidth:!0,value:p.values.supplier,onChange:p.handleChange,error:p.touched.supplier&&Boolean(p.errors.supplier),children:s&&s.map((e=>(0,N.jsx)(g.A,{value:e.id,children:e.supplier},e.id)))}),(0,N.jsx)(j.A,{error:!0,children:p.errors.supplier})]}),(0,N.jsxs)(x.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,N.jsx)(A.A,{children:"Total Liters"}),(0,N.jsx)(y.A,{id:"liters",name:"liters",type:"number",size:"small",fullWidth:!0,value:p.values.liters,onChange:p.handleChange,error:p.touched.liters&&Boolean(p.errors.liters)}),(0,N.jsx)(j.A,{error:!0,children:p.errors.liters})]}),(0,N.jsxs)(x.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,N.jsx)(A.A,{children:"Total Cost"}),(0,N.jsx)(y.A,{id:"cost",name:"cost",size:"small",type:"number",fullWidth:!0,value:p.values.cost,onChange:p.handleChange,error:p.touched.cost&&Boolean(p.errors.cost)}),(0,N.jsx)(j.A,{error:!0,children:p.errors.cost})]}),(0,N.jsxs)(x.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,N.jsx)(A.A,{children:"Pump"}),(0,N.jsx)(v.A,{id:"pump",name:"pump",label:"",size:"small",fullWidth:!0,value:p.values.pump,onChange:p.handleChange,error:p.touched.pump&&Boolean(p.errors.pump),children:c&&c.map((e=>(0,N.jsx)(g.A,{value:e.id,children:e.name},e.id)))}),(0,N.jsx)(j.A,{error:!0,children:p.errors.pump})]})]})]}),(0,N.jsxs)(b.A,{children:[(0,N.jsx)(o.A,{type:"submit",variant:"contained",color:"primary",children:"Save"}),(0,N.jsx)(o.A,{onClick:()=>{p.resetForm(),t()},variant:"outlined",color:"error",children:"Cancel"})]})]})})]})})},B=(0,t(9662).A)((0,N.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),G=t(1318);t(1165);var R=()=>{const[e,r]=(0,i.useState)(!1),[t,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{const e=(await T.A.get(null===M.p||void 0===M.p?void 0:M.p.fuelList)).data.map((e=>({name:null===e||void 0===e?void 0:e.fuel_type,qty:null===e||void 0===e?void 0:e.litres,status:null===e||void 0===e?void 0:e.status,id:null===e||void 0===e?void 0:e._id})));h(e)}catch(e){console.error("Error fetching fuel data:",e)}})()}),[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(W,{open:e,handleClose:()=>r(!1)}),(0,N.jsxs)(l.A,{children:[(0,N.jsxs)(n.A,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,N.jsx)(a.A,{variant:"h4",children:"Fuel-Management"}),(0,N.jsxs)(n.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:[(0,N.jsx)(o.A,{variant:"contained",startIcon:(0,N.jsx)(m.A,{icon:"eva:plus-fill"}),onClick:()=>r(!0),children:"Add New Order"}),(0,N.jsx)(o.A,{variant:"contained",startIcon:(0,N.jsx)(B,{}),component:G.N_,to:"/order/ViewOrderHistory",style:{backgroundColor:"#673AB7 "},children:"View Order History"})]})]}),(0,N.jsx)(p.A,{children:(0,N.jsx)(s.A,{width:"100%",children:(0,N.jsx)(d.A,{style:{height:"600px",paddingTop:"15px"},children:(0,N.jsx)(c.zh,{rows:t&&t,columns:[{field:"name",headerName:"FUEL TYPE",flex:1,cellClassName:"name-column--cell"},{field:"status",headerName:"STATUS",flex:1,cellClassName:"name-column--cell"}],getRowId:e=>e.id,slots:{toolbar:u.O},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}},9252:function(e,r,t){t.d(r,{A:function(){return b}});var i=t(8587),l=t(8168),n=t(5043),a=t(8387),o=t(2400),s=t(8606),d=t(410),c=t(2900),u=t(9644),m=t(8280),p=t(579);const h=["className","component","disableGutters","fixed","maxWidth","classes"],x=(0,m.A)(),f=(0,u.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`maxWidth${(0,d.A)(String(t.maxWidth))}`],t.fixed&&r.fixed,t.disableGutters&&r.disableGutters]}}),A=e=>(0,c.A)({props:e,name:"MuiContainer",defaultTheme:x});var v=t(6803),g=t(4535),j=t(2876);const y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:r=f,useThemeProps:t=A,componentName:c="MuiContainer"}=e,u=r((e=>{let{theme:r,ownerState:t}=e;return(0,l.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:r.spacing(2),paddingRight:r.spacing(2),[r.breakpoints.up("sm")]:{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}})}),(e=>{let{theme:r,ownerState:t}=e;return t.fixed&&Object.keys(r.breakpoints.values).reduce(((e,t)=>{const i=t,l=r.breakpoints.values[i];return 0!==l&&(e[r.breakpoints.up(i)]={maxWidth:`${l}${r.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:r,ownerState:t}=e;return(0,l.A)({},"xs"===t.maxWidth&&{[r.breakpoints.up("xs")]:{maxWidth:Math.max(r.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[r.breakpoints.up(t.maxWidth)]:{maxWidth:`${r.breakpoints.values[t.maxWidth]}${r.breakpoints.unit}`}})})),m=n.forwardRef((function(e,r){const n=t(e),{className:m,component:x="div",disableGutters:f=!1,fixed:A=!1,maxWidth:v="lg"}=n,g=(0,i.A)(n,h),j=(0,l.A)({},n,{component:x,disableGutters:f,fixed:A,maxWidth:v}),y=((e,r)=>{const{classes:t,fixed:i,disableGutters:l,maxWidth:n}=e,a={root:["root",n&&`maxWidth${(0,d.A)(String(n))}`,i&&"fixed",l&&"disableGutters"]};return(0,s.A)(a,(e=>(0,o.Ay)(r,e)),t)})(j,c);return(0,p.jsx)(u,(0,l.A)({as:x,ownerState:j,className:(0,a.A)(y.root,m),ref:r},g))}));return m}({createStyledComponent:(0,g.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`maxWidth${(0,v.A)(String(t.maxWidth))}`],t.fixed&&r.fixed,t.disableGutters&&r.disableGutters]}}),useThemeProps:e=>(0,j.A)({props:e,name:"MuiContainer"})});var b=y},8533:function(e,r,t){t.d(r,{A:function(){return A}});var i=t(8587),l=t(8168),n=t(5043),a=t(8387),o=t(8606),s=t(4535),d=t(2876),c=t(5865),u=t(7056),m=t(2400);function p(e){return(0,m.Ay)("MuiDialogContentText",e)}(0,u.A)("MuiDialogContentText",["root"]);var h=t(579);const x=["children","className"],f=(0,s.Ay)(c.A,{shouldForwardProp:e=>(0,s.ep)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,r)=>r.root})({});var A=n.forwardRef((function(e,r){const t=(0,d.A)({props:e,name:"MuiDialogContentText"}),{className:n}=t,s=(0,i.A)(t,x),c=(e=>{const{classes:r}=e,t=(0,o.A)({root:["root"]},p,r);return(0,l.A)({},r,t)})(s);return(0,h.jsx)(f,(0,l.A)({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:s,className:(0,a.A)(c.root,n)},t,{classes:c}))}))}}]);
//# sourceMappingURL=41.92c3c924.chunk.js.map