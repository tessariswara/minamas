"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[623,958],{7220:function(e,a,t){var r=t(4535),i=t(6337);const l=(0,r.Ay)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:i.A.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:i.A.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});a.A=l},6337:function(e,a,t){var r=t(310);const i={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},l={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:i[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:i[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:i,divider:(0,r.X4)(i[500],.24),text:{primary:i[800],secondary:i[600],disabled:i[500]},background:{paper:"#fff",default:i[100],neutral:i[200]},action:{active:i[600],hover:(0,r.X4)(i[500],.08),selected:(0,r.X4)(i[500],.16),disabled:(0,r.X4)(i[500],.8),disabledBackground:(0,r.X4)(i[500],.24),focus:(0,r.X4)(i[500],.24),hoverOpacity:.08,disabledOpacity:.48}};a.A=l},3183:function(e,a,t){t.d(a,{A:function(){return c}});var r=t(5173),i=t.n(r),l=t(5043),n=t(6423),s=t(6446),o=t(579);const d=(0,l.forwardRef)(((e,a)=>{let{icon:t,width:r=20,sx:i,...l}=e;return(0,o.jsx)(s.A,{ref:a,component:n.In,icon:t,sx:{width:r,height:r,...i},...l})}));d.propTypes={sx:i().object,width:i().oneOfType([i().number,i().string]),icon:i().oneOfType([i().element,i().string])};var c=d},3958:function(e,a,t){t.r(a);t(5043);var r=t(5316),i=t(8533),l=t(8911),n=t(5865),s=t(1906),o=t(6446),d=t(2110),c=t(3516),u=t(3033),m=t(7503),h=t(5151),f=t(1019),x=t(7220),p=t(1318),A=t(579);a.default=()=>{const e=u.Ik({});(0,c.Wx)({initialValues:{},validationSchema:e,onSubmit:async e=>{console.log("leadValues",e),m.oR.success("Lead added successfully")}});return(0,A.jsx)("div",{children:(0,A.jsx)(r.A,{dividers:!0,children:(0,A.jsxs)(i.A,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,A.jsxs)(l.A,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,A.jsx)(n.A,{style:{marginBottom:"15px"},variant:"h6",children:(0,A.jsx)("h1",{children:"PAYROLL HISTORY DETAILS"})})," ",(0,A.jsx)(l.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,A.jsx)(s.A,{variant:"contained",component:p.N_,to:"/hrms/payroll",children:"BACK"})})]}),(0,A.jsx)(x.A,{children:(0,A.jsx)(o.A,{width:"100%",children:(0,A.jsx)(d.A,{style:{height:"600px",paddingTop:"15px"},children:(0,A.jsx)(h.zh,{rows:[{id:1,fuelType:"Petrol",totalLitersSupplied:"1,930.00 Liters",cost:"40,000,.00",supplier:"Adeola",date:"Wed 2nd March, 2022"}],columns:[{field:"fuelType",headerName:"FUEL TYPE",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"totalLitersSupplied",headerName:"TOTAL LITERS SUPPLIED",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"cost",headerName:"COST",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"supplier",headerName:"SUPPLIER",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"date",headerName:"DATE",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"}],getRowId:e=>e.id,slots:{toolbar:f.O},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})})})}},7623:function(e,a,t){t.r(a),t.d(a,{default:function(){return G}});var r=t(5043),i=t(9252),l=t(8911),n=t(5865),s=t(1906),o=t(6446),d=t(2110),c=t(7220),u=t(5151),m=t(1019),h=t(3183),f=t(35),x=t(8903),p=t(3193),A=t(1292),g=t(2221),y=t(2143),v=t(1673),b=t(7784),j=t(9347),w=t(5316),C=t(8533),F=t(4219),S=t(155),D=t(3516),T=t(3033),k=t(7503),N=t(6337),M=t(7020),R=t(7154);var W=t(579);var _=e=>{const{open:a,handleClose:t,fetchPayrollDetails:i}=e,[l,o]=(0,r.useState)([]),[d,c]=(0,r.useState)([]),u=T.Ik({staff:T.Yj().required("Staff is required"),basic_salary:T.ai().required("Basic Salary is required"),allowances:T.ai().required("Total Allowances is required"),tds:T.ai().required("TDS is required")}),m=(0,D.Wx)({initialValues:{staff:"",basic_salary:"",allowances:"",tds:""},validationSchema:u,onSubmit:async e=>{console.log("leadValues",e);const a=await(async e=>{const a=M.p.savePayroll;return await R.A.post(a,e)})(e);"internal server error"==a.data?k.oR.error(a.data):(k.oR.success("PayRoll added successfully",{autoClose:600}),m.resetForm(),t(),i())}}),h=async()=>{try{const e=(await(async()=>await R.A.get(M.p.getAllStaff))()).data.map((e=>({name:null===e||void 0===e?void 0:e.full_name,id:null===e||void 0===e?void 0:e._id})));o(e)}catch(e){k.oR.error("something went wrong")}};return(0,r.useEffect)((()=>{h()}),[]),(0,W.jsx)("div",{children:(0,W.jsxs)(f.A,{open:a,onClose:t,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,W.jsxs)(F.A,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,W.jsx)(n.A,{variant:"h3",style:{marginLeft:"180px"},children:"Add New Payroll"}),(0,W.jsx)(n.A,{children:(0,W.jsx)(S.A,{onClick:t,style:{cursor:"pointer"}})})]}),(0,W.jsx)(w.A,{dividers:!0,children:(0,W.jsxs)("form",{onSubmit:m.handleSubmit,children:[(0,W.jsxs)(C.A,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,W.jsx)(n.A,{style:{marginBottom:"15px"},variant:"h6",children:(0,W.jsx)("h1",{children:"Enter Payroll Details"})}),(0,W.jsxs)(x.Ay,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,W.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,W.jsxs)(p.A,{fullWidth:!0,children:[(0,W.jsx)(A.A,{children:"Staff"}),(0,W.jsx)(g.A,{labelId:"demo-simple-select-label",id:"staff",name:"staff",label:"",size:"small",fullWidth:!0,value:m.values.staff||"",onChange:m.handleChange,error:m.touched.staff&&Boolean(m.errors.staff),helperText:m.touched.staff&&m.errors.staff,children:l&&l.map((e=>(0,W.jsx)(y.A,{value:e.id,children:e.name},e.id)))}),(0,W.jsx)(v.A,{style:{color:N.A.error.main},children:m.touched.staff&&m.errors.staff})]})}),(0,W.jsxs)(x.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,W.jsx)(A.A,{children:"Basic Salary"}),(0,W.jsx)(b.A,{id:"basic_salary",name:"basic_salary",size:"small",type:"number",fullWidth:!0,value:m.values.basic_salary,onChange:m.handleChange,error:m.touched.basic_salary&&Boolean(m.errors.basic_salary),helperText:m.touched.basic_salary&&m.errors.basic_salary})]}),(0,W.jsxs)(x.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,W.jsx)(A.A,{children:"Total Allowances"}),(0,W.jsx)(b.A,{id:"allowances",name:"allowances",size:"small",type:"number",fullWidth:!0,value:m.values.allowances,onChange:m.handleChange,error:m.touched.allowances&&Boolean(m.errors.allowances),helperText:m.touched.allowances&&m.errors.allowances})]}),(0,W.jsxs)(x.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,W.jsx)(A.A,{children:"Tax Deducted at Source (TDS) "}),(0,W.jsx)(b.A,{id:"tds",name:"tds",size:"small",type:"number",fullWidth:!0,value:m.values.tds,onChange:m.handleChange,error:m.touched.tds&&Boolean(m.errors.tds),helperText:m.touched.tds&&m.errors.tds})]})]})]}),(0,W.jsxs)(j.A,{children:[(0,W.jsx)(s.A,{variant:"contained",color:"primary",type:"submit",children:"Save"}),(0,W.jsx)(s.A,{onClick:()=>{m.resetForm(),t()},variant:"outlined",color:"error",children:"Cancel"})]})]})})]})})},B=(t(3958),t(6178)),E=t.n(B);var G=()=>{const[e,a]=(0,r.useState)(!1),[t,f]=(0,r.useState)([]),x=async()=>{try{const e=await(async()=>await R.A.get(null===M.p||void 0===M.p?void 0:M.p.fetchPayroll))();if(console.log(e),"internal server error"===(null===e||void 0===e?void 0:e.data))k.oR.error("internal server error");else{const a=e.data.map((e=>({name:null===e||void 0===e?void 0:e.staff.full_name,allowances:null===e||void 0===e?void 0:e.allowances,tds:null===e||void 0===e?void 0:e.tds,salary:null===e||void 0===e?void 0:e.basic_salary,joinDate:E()(null===e||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm:ss"),id:null===e||void 0===e?void 0:e._id})));f(a)}}catch(e){k.oR.error("something went wrong")}};return(0,r.useEffect)((()=>{x()}),[]),(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(_,{open:e,handleClose:()=>a(!1),fetchPayrollDetails:x}),(0,W.jsxs)(i.A,{children:[(0,W.jsxs)(l.A,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,W.jsx)(n.A,{variant:"h4",children:"Payroll Lists"}),(0,W.jsx)(l.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,W.jsx)(s.A,{variant:"contained",startIcon:(0,W.jsx)(h.A,{icon:"eva:plus-fill"}),onClick:()=>a(!0),children:"Add Payroll"})})]}),(0,W.jsx)(c.A,{children:(0,W.jsx)(o.A,{width:"100%",children:(0,W.jsx)(d.A,{style:{height:"600px",paddingTop:"15px"},children:(0,W.jsx)(u.zh,{rows:t,columns:[{field:"name",headerName:"STAFF NAME",flex:1,cellClassName:" name-column--cell--capitalize"},{field:"salary",headerName:"SALARY",flex:1},{field:"allowances",headerName:"ALLOWANCE ",flex:1,cellClassName:"name-column--cell--capitalize"},{field:"tds",headerName:"TDS",flex:1},{field:"joinDate",headerName:"JOIN DATE",flex:1}],getRowId:t.id,slots:{toolbar:m.O},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}},9252:function(e,a,t){t.d(a,{A:function(){return j}});var r=t(8587),i=t(8168),l=t(5043),n=t(8387),s=t(2400),o=t(8606),d=t(410),c=t(2900),u=t(9644),m=t(8280),h=t(579);const f=["className","component","disableGutters","fixed","maxWidth","classes"],x=(0,m.A)(),p=(0,u.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,a[`maxWidth${(0,d.A)(String(t.maxWidth))}`],t.fixed&&a.fixed,t.disableGutters&&a.disableGutters]}}),A=e=>(0,c.A)({props:e,name:"MuiContainer",defaultTheme:x});var g=t(6803),y=t(4535),v=t(2876);const b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:a=p,useThemeProps:t=A,componentName:c="MuiContainer"}=e,u=a((e=>{let{theme:a,ownerState:t}=e;return(0,i.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}})}),(e=>{let{theme:a,ownerState:t}=e;return t.fixed&&Object.keys(a.breakpoints.values).reduce(((e,t)=>{const r=t,i=a.breakpoints.values[r];return 0!==i&&(e[a.breakpoints.up(r)]={maxWidth:`${i}${a.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:a,ownerState:t}=e;return(0,i.A)({},"xs"===t.maxWidth&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[a.breakpoints.up(t.maxWidth)]:{maxWidth:`${a.breakpoints.values[t.maxWidth]}${a.breakpoints.unit}`}})})),m=l.forwardRef((function(e,a){const l=t(e),{className:m,component:x="div",disableGutters:p=!1,fixed:A=!1,maxWidth:g="lg"}=l,y=(0,r.A)(l,f),v=(0,i.A)({},l,{component:x,disableGutters:p,fixed:A,maxWidth:g}),b=((e,a)=>{const{classes:t,fixed:r,disableGutters:i,maxWidth:l}=e,n={root:["root",l&&`maxWidth${(0,d.A)(String(l))}`,r&&"fixed",i&&"disableGutters"]};return(0,o.A)(n,(e=>(0,s.Ay)(a,e)),t)})(v,c);return(0,h.jsx)(u,(0,i.A)({as:x,ownerState:v,className:(0,n.A)(b.root,m),ref:a},y))}));return m}({createStyledComponent:(0,y.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,a[`maxWidth${(0,g.A)(String(t.maxWidth))}`],t.fixed&&a.fixed,t.disableGutters&&a.disableGutters]}}),useThemeProps:e=>(0,v.A)({props:e,name:"MuiContainer"})});var j=b},8533:function(e,a,t){t.d(a,{A:function(){return A}});var r=t(8587),i=t(8168),l=t(5043),n=t(8387),s=t(8606),o=t(4535),d=t(2876),c=t(5865),u=t(7056),m=t(2400);function h(e){return(0,m.Ay)("MuiDialogContentText",e)}(0,u.A)("MuiDialogContentText",["root"]);var f=t(579);const x=["children","className"],p=(0,o.Ay)(c.A,{shouldForwardProp:e=>(0,o.ep)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,a)=>a.root})({});var A=l.forwardRef((function(e,a){const t=(0,d.A)({props:e,name:"MuiDialogContentText"}),{className:l}=t,o=(0,r.A)(t,x),c=(e=>{const{classes:a}=e,t=(0,s.A)({root:["root"]},h,a);return(0,i.A)({},a,t)})(o);return(0,f.jsx)(p,(0,i.A)({component:"p",variant:"body1",color:"text.secondary",ref:a,ownerState:o,className:(0,n.A)(c.root,l)},t,{classes:c}))}))}}]);
//# sourceMappingURL=623.5e5ec7cb.chunk.js.map